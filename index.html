<!--
Copyright © 2015-2017 A-Frame authors.
Released under the MIT license
https://opensource.org/licenses/mit-license.php

-->


<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<link rel="stylesheet" href="./style.css" />
<title>vr_player</title>
<!--script src="https://aframe.io/releases/0.7.1/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v3.12.4/dist/aframe-extras.min.js"></script-->


    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
    <!--script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script--> <!--GUI Library-->
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>


<style>
.fade{
    -webkit-transition: all 1s;
    -moz-transition: all 1s;
    -ms-transition: all 1s;
    -o-transition: all 1s;
    transition: all 1s;
    transition-delay:10s;
    opacity: 0.5;
　　　}

/*消える*/
.fade1{
 opacity:0;
 pointer-events:none
      }

/*出る*/
.fade2{
 opacity:0.5;
 pointer-events:auto;
 transition-delay:0s;
      }

#inputNum{
  z-index:2;
  position:fixed;
  top:92%;
  left:5%;
  width:75px;
  padding:10px;
  border:white;
  border-radius:5px;
}

#video1{
  z-index:1;
}
</style>

<script>


var speed = 0.01;
var isIntersect = false;
//resigterはscene読み込む前じゃないとng
AFRAME.registerComponent('collider-check',
{
    dependencies: ['raycaster'],
    init: function ()
    {
        this.el.addEventListener('raycaster-intersection', function ()
        {
            isIntersect = true;
        });
        this.el.addEventListener('raycaster-intersection-cleared', function ()
        {
            isIntersect = false;
        });
    }
});



/*
var speed = 0.01;
var isIntersect = false;


function movePlayer()
{
    var camera = document.getElementById('camera');

    if (camera && !isIntersect)
    {
        var position = camera.getAttribute('position');
        var rotation = camera.getAttribute('rotation');

        position.x += -Math.cos((rotation.y - 90) * Math.PI / 180) * speed;
        position.z += Math.sin((rotation.y - 90) * Math.PI / 180) * speed;
        camera.setAttribute('position', position);
    }
}


var t = 0;

function render()
{
    t += 0.01;
    requestAnimationFrame(render);
    movePlayer();
}

render();
*/


</script>

</head>

<body class="a-body">

<!-- kinematic-body static-body physicallyCorrectLights:true"-->
<a-scene inspector="" renderer="antialias:true;colorManagement:true; class="fullscreen" keyboard-shortcuts="" screenshot="" vr-mode-ui="" physics="debug: false;gravity:0">

<!--a-entity id="camera" camera look-controls wasd-controls jump-ability raycaster="objects: .collidable; far: 0.5;" collider-check rotation="0 0 0" position="0 0.3 0" kinematic-body></a-entity-->
<!--look-controls wasd-controls universal-controls-->

<!--radius超重要-->
<!--gravity:0にすれば、position.yの位置から落ちない-->
<a-entity id="rig" movement-controls="speed:0.05" kinematic-body="radius: 0.5" position="0 0.8 0" >
  <a-entity camera id="camera" look-controls="pointerLockEnabled: true" ></a-entity>
</a-entity>


<a-entity id="maze" position="-4 1 -10" >
    <a-box class="collidable" position="0 0 0" width="1" height="2" depth="1" color="#4CC3D9" static-body></a-box>
    <a-box class="collidable" position="0 0 1" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="0 0 2" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="0 0 3" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="0 0 4" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="0 0 5" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="0 0 6" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="0 0 7" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="0 0 8" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>

    <a-box class="collidable" position="1 0 2" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="1 0 5" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="1 0 6" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="1 0 8" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>

    <a-box class="collidable" position="2 0 0" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="2 0 2" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="2 0 3" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="2 0 8" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>

    <a-box class="collidable" position="3 0 0" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="3 0 4" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="3 0 5" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="3 0 7" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="3 0 8" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>

    <a-box class="collidable" position="4 0 0" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="4 0 1" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="4 0 2" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="4 0 4" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="4 0 5" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>

    <a-box class="collidable" position="5 0 0" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="5 0 2" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="5 0 5" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="5 0 7" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="5 0 8" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>

    <a-box class="collidable" position="6 0 0" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="6 0 2" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="6 0 3" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="6 0 5" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="6 0 8" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>

    <a-box class="collidable" position="7 0 0" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="7 0 7" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="7 0 8" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>

    <a-box class="collidable" position="8 0 0" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="8 0 1" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="8 0 2" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="8 0 3" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="8 0 4" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="8 0 5" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="8 0 6" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="8 0 7" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
    <a-box class="collidable" position="8 0 8" width="1" height="2" depth="1" color="#4CC3D9"static-body></a-box>
</a-entity>

<a-plane static-body material="color: grey" width="100" height="100" rotation="-90 0 0" position="0 0 0"></a-plane>

</a-scene>


<script>

/*
function movePlayer()
{


    var camera = document.getElementById('camera');

        var position = camera.getAttribute('position');
        var rotation = camera.getAttribute('rotation');

       // position.x += -Math.cos((rotation.y - 90) * Math.PI / 180) * speed;
       // position.z += Math.sin((rotation.y - 90) * Math.PI / 180) * speed;
        camera.setAttribute('position', position);

}


var t = 0;

function render()
{
    t += 0.01;
    requestAnimationFrame(render);
    movePlayer();
}

render();
*/



</script>

</body></html>